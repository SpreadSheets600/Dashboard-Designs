<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEE/NEET Analytics Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#3b82f6', // Safe Zone
                            600: '#2563eb',
                            900: '#1e3a8a',
                        },
                        mastery: '#10B981', // Emerald
                        warning: '#F59E0B', // Amber
                        critical: '#EF4444', // Red
                        slate: {
                            850: '#1e293b',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Chart Container Styling Rules */
        .chart-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        /* Specific heights for different chart areas to ensure "Bento" lock-in */
        .chart-trend {
            height: 300px;
            max-height: 350px;
        }
        
        .chart-radar {
            height: 250px;
            max-height: 300px;
        }

        .chart-doughnut {
            height: 180px;
            max-height: 200px;
        }

        .chart-spark {
            height: 50px;
            width: 100%;
        }

        /* Custom Scrollbar for dense lists */
        .dense-scroll {
            scrollbar-width: thin;
            scrollbar-color: #cbd5e1 transparent;
        }
        .dense-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .dense-scroll::-webkit-scrollbar-track {
            background: transparent; 
        }
        .dense-scroll::-webkit-scrollbar-thumb {
            background-color: #cbd5e1; 
            border-radius: 20px;
        }

        body {
            background-color: #f8fafc; /* Slate-50 equivalent */
        }
    </style>
</head>
<body class="text-slate-800 antialiased">

    <!-- Application Structure Plan:
         1. Header: User context and Global Filters.
         2. Pulse Strip: 4 Key Metrics with Sparklines. Instant health check.
         3. Main Grid (Bento):
            - Row 1: Comparison of Trend (Line) & Subject Balance (Radar).
            - Row 2: Deep dive into Weak Areas (Table), Consistency (Heatmap), Efficiency (Doughnut).
         Why: This structure moves from high-level status -> trends -> actionable specifics, matching the flow of an analysis session.
    -->

    <!-- Navbar -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-brand-600 rounded flex items-center justify-center text-white font-bold font-mono">Q</div>
                    <div>
                        <h1 class="font-bold text-lg leading-tight tracking-tight">QuizMaster<span class="text-brand-600">Pro</span></h1>
                        <p class="text-[10px] text-slate-500 font-medium uppercase tracking-wider">Analytics Terminal v2.1</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-4">
                    <div class="hidden md:block text-right">
                        <p class="text-[10px] text-slate-500 uppercase font-bold">Target Exam</p>
                        <p class="text-xs font-bold text-brand-900">JEE Adv. 2025 <span class="text-slate-400 font-normal">| 145 Days Left</span></p>
                    </div>
                    <div class="h-8 w-[1px] bg-slate-200 hidden md:block"></div>
                    <button class="bg-brand-600 hover:bg-brand-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors shadow-sm flex items-center gap-2">
                        <i class="fas fa-bolt"></i> Quick Mock
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6">

        <!-- Controls & Context -->
        <header class="flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4 border-b border-slate-200 pb-4">
            <div class="max-w-2xl">
                <h2 class="text-xl font-bold text-slate-900">Performance Overview</h2>
                <p class="text-sm text-slate-600 mt-1 leading-relaxed">
                    Welcome back, <strong>Arjun</strong>. This dashboard consolidates your testing data to identify high-yield improvement areas. 
                    Use the controls to filter performance across different time horizons.
                </p>
            </div>
            <div class="flex items-center gap-3 bg-white p-1 rounded-lg border border-slate-200 shadow-sm">
                <select id="timeRangeSelector" class="bg-transparent text-sm font-medium text-slate-700 focus:outline-none px-2 py-1 cursor-pointer">
                    <option value="30">Last 30 Days</option>
                    <option value="10">Last 10 Tests</option>
                    <option value="all">All Time</option>
                </select>
                <div class="w-[1px] h-4 bg-slate-200"></div>
                <button class="text-slate-400 hover:text-brand-600 px-2 transition-colors" title="Export Report"><i class="fas fa-download"></i></button>
            </div>
        </header>

        <!-- Section 1: The Pulse Strip (KPIs) -->
        <section aria-label="Key Performance Indicators">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                
                <!-- KPI 1: Accuracy -->
                <article class="bg-white rounded-xl p-4 border border-slate-200 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group">
                    <div class="flex justify-between items-start z-10 relative">
                        <div>
                            <p class="text-[10px] font-bold text-slate-500 uppercase tracking-wider">Net Accuracy</p>
                            <h3 class="text-2xl font-mono font-bold text-slate-900 mt-1" id="kpi-accuracy">78.4%</h3>
                        </div>
                        <span class="flex items-center text-mastery text-xs font-bold bg-green-50 px-2 py-1 rounded-full border border-green-100">
                            <i class="fas fa-arrow-up mr-1"></i> 2.1%
                        </span>
                    </div>
                    <!-- Mini Sparkline Container -->
                    <div class="chart-container chart-spark mt-2 opacity-50 group-hover:opacity-100 transition-opacity">
                        <canvas id="sparkAccuracy"></canvas>
                    </div>
                    <p class="text-[10px] text-slate-400 absolute bottom-2 right-4">Target: 85%</p>
                </article>

                <!-- KPI 2: Negative Marks -->
                <article class="bg-white rounded-xl p-4 border border-slate-200 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group">
                    <div class="flex justify-between items-start z-10 relative">
                        <div>
                            <p class="text-[10px] font-bold text-slate-500 uppercase tracking-wider">Mark Bleed (Neg.)</p>
                            <h3 class="text-2xl font-mono font-bold text-critical mt-1" id="kpi-negative">-18</h3>
                        </div>
                        <span class="flex items-center text-critical text-xs font-bold bg-red-50 px-2 py-1 rounded-full border border-red-100">
                            High
                        </span>
                    </div>
                    <div class="chart-container chart-spark mt-2 opacity-50 group-hover:opacity-100 transition-opacity">
                        <canvas id="sparkNegative"></canvas>
                    </div>
                    <p class="text-[10px] text-slate-400 absolute bottom-2 right-4">Avg -4.5/subj</p>
                </article>

                <!-- KPI 3: Speed -->
                <article class="bg-white rounded-xl p-4 border border-slate-200 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group">
                    <div class="flex justify-between items-start z-10 relative">
                        <div>
                            <p class="text-[10px] font-bold text-slate-500 uppercase tracking-wider">Avg Time / Q</p>
                            <h3 class="text-2xl font-mono font-bold text-slate-900 mt-1" id="kpi-speed">1m 42s</h3>
                        </div>
                        <span class="flex items-center text-warning text-xs font-bold bg-amber-50 px-2 py-1 rounded-full border border-amber-100">
                            Slow
                        </span>
                    </div>
                    <div class="w-full bg-slate-100 h-1.5 rounded-full mt-6 overflow-hidden">
                        <div class="bg-warning h-full transition-all duration-1000" style="width: 85%"></div>
                    </div>
                    <p class="text-[10px] text-slate-400 mt-2 text-right">Ideal: 1m 30s</p>
                </article>

                <!-- KPI 4: Percentile -->
                <article class="bg-white rounded-xl p-4 border border-slate-200 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group">
                    <div class="flex justify-between items-start z-10 relative">
                        <div>
                            <p class="text-[10px] font-bold text-slate-500 uppercase tracking-wider">Est. Percentile</p>
                            <h3 class="text-2xl font-mono font-bold text-brand-600 mt-1" id="kpi-percentile">98.2</h3>
                        </div>
                        <i class="fas fa-chart-line text-brand-100 text-3xl absolute top-4 right-4"></i>
                    </div>
                    <div class="mt-4 flex gap-2">
                        <span class="text-[10px] font-mono bg-slate-100 text-slate-600 px-1.5 py-0.5 rounded">PHY 99.1</span>
                        <span class="text-[10px] font-mono bg-red-50 text-critical px-1.5 py-0.5 rounded">MAT 92.4</span>
                    </div>
                </article>
            </div>
        </section>

        <!-- Section 2: Macro Analysis (Trend & Radar) -->
        <section class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            
            <!-- Trend Chart -->
            <div class="col-span-1 lg:col-span-8 bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <h3 class="font-bold text-slate-900">Score & Accuracy Trend</h3>
                        <p class="text-xs text-slate-500">Correlation between total score improvement and question accuracy.</p>
                    </div>
                    <div class="flex gap-4 text-xs font-medium">
                        <div class="flex items-center text-brand-600"><span class="w-2 h-2 bg-brand-600 rounded-full mr-2"></span>Score</div>
                        <div class="flex items-center text-mastery"><span class="w-2 h-2 bg-mastery rounded-full mr-2"></span>Accuracy %</div>
                    </div>
                </div>
                <div class="chart-container chart-trend">
                    <canvas id="trendChart"></canvas>
                </div>
            </div>

            <!-- Radar Chart -->
            <div class="col-span-1 lg:col-span-4 bg-white rounded-xl border border-slate-200 shadow-sm p-5 flex flex-col">
                <div class="mb-2">
                    <h3 class="font-bold text-slate-900">Subject Equilibrium</h3>
                    <p class="text-xs text-slate-500">Your mastery vs. Topper Average.</p>
                </div>
                <div class="chart-container chart-radar flex-grow flex items-center justify-center">
                    <canvas id="radarChart"></canvas>
                </div>
                <div class="grid grid-cols-3 gap-2 mt-4 text-center">
                    <div class="p-2 bg-slate-50 rounded border border-slate-100">
                        <div class="text-[10px] font-bold text-slate-400">PHY</div>
                        <div class="text-sm font-mono font-bold text-slate-800">82</div>
                    </div>
                    <div class="p-2 bg-slate-50 rounded border border-slate-100">
                        <div class="text-[10px] font-bold text-slate-400">CHE</div>
                        <div class="text-sm font-mono font-bold text-slate-800">75</div>
                    </div>
                    <div class="p-2 bg-red-50 rounded border border-red-100">
                        <div class="text-[10px] font-bold text-critical">MAT</div>
                        <div class="text-sm font-mono font-bold text-critical">55</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Micro Analysis (Weak Areas, Heatmap, Efficiency) -->
        <section class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            
            <!-- Weak Areas Table -->
            <div class="col-span-1 lg:col-span-6 bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col h-[400px]">
                <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 rounded-t-xl">
                    <div>
                        <h3 class="font-bold text-slate-900 flex items-center gap-2">
                            <i class="fas fa-crosshairs text-critical"></i> Critical Weak Areas
                        </h3>
                        <p class="text-xs text-slate-500">Topics with high weightage but low accuracy.</p>
                    </div>
                    <span class="text-xs font-bold bg-critical text-white px-2 py-1 rounded-md">6 Alert</span>
                </div>
                
                <div class="overflow-y-auto dense-scroll flex-grow">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-50 text-slate-500 text-xs font-semibold sticky top-0 z-10">
                            <tr>
                                <th class="p-4">Topic / Chapter</th>
                                <th class="p-4 text-center">Accuracy</th>
                                <th class="p-4 text-center">Weightage</th>
                                <th class="p-4 text-right">Action</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-100 text-slate-700" id="weakTopicsTable">
                            <!-- JS Populated -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Heatmap -->
            <div class="col-span-1 md:col-span-6 lg:col-span-3 bg-white rounded-xl border border-slate-200 shadow-sm p-5 flex flex-col h-[400px]">
                <div class="mb-4">
                    <h3 class="font-bold text-slate-900">Consistency Map</h3>
                    <p class="text-xs text-slate-500">Study intensity over last 42 days.</p>
                </div>
                
                <div class="flex-grow flex items-center justify-center">
                    <div class="grid grid-cols-7 gap-1.5" id="heatmapGrid">
                        <!-- JS Populated Heatmap -->
                    </div>
                </div>

                <div class="mt-4 flex items-center justify-between text-[10px] text-slate-400 font-medium">
                    <span>Less</span>
                    <div class="flex gap-1">
                        <div class="w-3 h-3 rounded-sm bg-slate-100"></div>
                        <div class="w-3 h-3 rounded-sm bg-green-200"></div>
                        <div class="w-3 h-3 rounded-sm bg-mastery"></div>
                        <div class="w-3 h-3 rounded-sm bg-green-800"></div>
                    </div>
                    <span>More</span>
                </div>
                <div class="mt-4 text-center p-3 bg-slate-50 rounded-lg border border-slate-100">
                    <div class="text-2xl font-mono font-bold text-slate-900">14 <span class="text-xs text-slate-500 font-sans font-normal">Day Streak</span></div>
                </div>
            </div>

            <!-- Attempt Efficiency -->
            <div class="col-span-1 md:col-span-6 lg:col-span-3 bg-white rounded-xl border border-slate-200 shadow-sm p-5 flex flex-col h-[400px]">
                <div class="mb-2">
                    <h3 class="font-bold text-slate-900">Attempt Efficiency</h3>
                    <p class="text-xs text-slate-500">Correct vs. Incorrect vs. Skipped.</p>
                </div>
                <div class="chart-container chart-doughnut flex-grow flex items-center justify-center relative">
                    <canvas id="efficiencyChart"></canvas>
                    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <div class="text-center mt-6">
                            <div class="text-2xl font-bold text-slate-900">180</div>
                            <div class="text-[10px] text-slate-500 uppercase tracking-wide">Total Qs</div>
                        </div>
                    </div>
                </div>
                <div class="mt-4 space-y-2">
                    <div class="flex justify-between text-xs items-center">
                        <span class="flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-mastery"></span> Correct</span>
                        <span class="font-mono font-bold text-slate-700">110 (61%)</span>
                    </div>
                    <div class="flex justify-between text-xs items-center">
                        <span class="flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-critical"></span> Incorrect</span>
                        <span class="font-mono font-bold text-slate-700">25 (14%)</span>
                    </div>
                    <div class="flex justify-between text-xs items-center">
                        <span class="flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-slate-400"></span> Unattempted</span>
                        <span class="font-mono font-bold text-slate-700">45 (25%)</span>
                    </div>
                </div>
                <div class="mt-auto pt-3 border-t border-slate-100 text-center">
                    <p class="text-[10px] text-slate-400">Insight: You leave 15% of "Easy" questions unattempted.</p>
                </div>
            </div>

        </section>

    </main>

    <!-- JavaScript Logic -->
    <script>
        // --- State Management ---
        const state = {
            timeRange: '30', // '30', '10', 'all'
            data: {
                weakTopics: [
                    { name: "Rotational Motion", subject: "Physics", accuracy: 22, weight: "High", id: 1 },
                    { name: "Complex Numbers", subject: "Maths", accuracy: 34, weight: "High", id: 2 },
                    { name: "Ionic Equilibrium", subject: "Chemistry", accuracy: 45, weight: "Med", id: 3 },
                    { name: "Indefinite Integration", subject: "Maths", accuracy: 48, weight: "High", id: 4 },
                    { name: "Wave Optics", subject: "Physics", accuracy: 52, weight: "Med", id: 5 },
                ]
            }
        };

        // --- Chart Instances Storage ---
        const charts = {};

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initCharts();
            renderWeakTopics();
            renderHeatmap();
            setupEventListeners();
        });

        // --- Event Listeners ---
        function setupEventListeners() {
            const selector = document.getElementById('timeRangeSelector');
            selector.addEventListener('change', (e) => {
                state.timeRange = e.target.value;
                updateDashboard(state.timeRange);
            });
        }

        // --- Core Update Logic ---
        function updateDashboard(range) {
            // Simulate data fetch and update
            const multiplier = range === 'all' ? 1.2 : (range === '10' ? 0.8 : 1);
            
            // 1. Update Trend Chart
            charts.trend.data.datasets[0].data = generateRandomData(6, 110, 190);
            charts.trend.data.datasets[1].data = generateRandomData(6, 60, 85);
            charts.trend.update();

            // 2. Update KPI numbers (Simple DOM update)
            document.getElementById('kpi-accuracy').innerText = (78.4 * multiplier).toFixed(1) + "%";
            
            // 3. Update Sparklines
            charts.sparkAcc.data.datasets[0].data = generateRandomData(10, 60, 90);
            charts.sparkAcc.update();
            charts.sparkNeg.data.datasets[0].data = generateRandomData(10, -20, -5);
            charts.sparkNeg.update();
        }

        // --- Helper: Random Data Gen ---
        function generateRandomData(count, min, max) {
            return Array.from({length: count}, () => Math.floor(Math.random() * (max - min + 1) + min));
        }

        // --- Weak Topics Table Render ---
        function renderWeakTopics() {
            const tbody = document.getElementById('weakTopicsTable');
            tbody.innerHTML = state.data.weakTopics.map(topic => `
                <tr class="hover:bg-slate-50 transition-colors group">
                    <td class="p-4">
                        <div class="font-semibold text-slate-800 text-sm">${topic.name}</div>
                        <div class="text-[10px] text-slate-500 font-mono uppercase">${topic.subject}</div>
                    </td>
                    <td class="p-4 text-center">
                        <span class="font-mono font-bold ${topic.accuracy < 40 ? 'text-critical' : 'text-warning'}">${topic.accuracy}%</span>
                    </td>
                    <td class="p-4 text-center">
                        <span class="text-xs px-2 py-1 rounded bg-slate-100 text-slate-600 font-medium">${topic.weight}</span>
                    </td>
                    <td class="p-4 text-right">
                        <button onclick="triggerRevise('${topic.name}')" class="bg-white border border-slate-200 text-slate-600 hover:text-brand-600 hover:border-brand-200 hover:bg-brand-50 px-3 py-1.5 rounded text-xs font-bold transition-all shadow-sm">
                            REVISE
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function triggerRevise(topicName) {
            alert(`Generating targeted practice quiz for: ${topicName}\n\nFetching past year questions...`);
        }

        // --- Heatmap Render ---
        function renderHeatmap() {
            const grid = document.getElementById('heatmapGrid');
            const days = 7 * 6; // 6 weeks
            const colors = ['bg-slate-100', 'bg-green-200', 'bg-green-400', 'bg-green-600', 'bg-green-800']; // Light theme variants
            
            for (let i = 0; i < days; i++) {
                const intensity = Math.random() > 0.3 ? Math.floor(Math.random() * 4) + 1 : 0;
                const div = document.createElement('div');
                div.className = `w-full aspect-square rounded-sm ${colors[intensity]} hover:opacity-80 transition-opacity cursor-pointer`;
                div.title = `Day ${i+1}: ${intensity * 2} hrs study`;
                grid.appendChild(div);
            }
        }

        // --- Chart.js Initialization ---
        function initCharts() {
            Chart.defaults.font.family = 'Inter';
            Chart.defaults.color = '#64748b';

            // 1. Trend Chart
            const ctxTrend = document.getElementById('trendChart').getContext('2d');
            charts.trend = new Chart(ctxTrend, {
                type: 'line',
                data: {
                    labels: ['Test 1', 'Test 2', 'Test 3', 'Test 4', 'Test 5', 'Test 6'],
                    datasets: [
                        {
                            label: 'Score',
                            data: [120, 135, 130, 145, 160, 185],
                            borderColor: '#3b82f6', // Brand Blue
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Accuracy %',
                            data: [65, 68, 62, 70, 75, 78],
                            borderColor: '#10B981', // Emerald
                            borderWidth: 2,
                            borderDash: [5, 5],
                            tension: 0.3,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: 'index', intersect: false },
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { display: false } },
                        y: { type: 'linear', display: true, position: 'left', grid: { color: '#f1f5f9' }, min: 0, max: 300 },
                        y1: { type: 'linear', display: true, position: 'right', grid: { display: false }, min: 0, max: 100 }
                    }
                }
            });

            // 2. Radar Chart
            const ctxRadar = document.getElementById('radarChart').getContext('2d');
            charts.radar = new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: ['Physics', 'Chemistry', 'Maths', 'Zoology', 'Botany'],
                    datasets: [{
                        label: 'Mastery',
                        data: [82, 75, 55, 65, 70],
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: '#3b82f6',
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#3b82f6'
                    }, {
                        label: 'Topper Avg',
                        data: [88, 85, 80, 85, 82],
                        borderColor: '#cbd5e1',
                        borderDash: [4, 4],
                        pointRadius: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        r: {
                            angleLines: { color: '#e2e8f0' },
                            grid: { color: '#e2e8f0' },
                            pointLabels: { font: { size: 10, weight: '600' }, color: '#475569' },
                            ticks: { display: false, backdropColor: 'transparent' }
                        }
                    }
                }
            });

            // 3. Efficiency Doughnut
            const ctxEff = document.getElementById('efficiencyChart').getContext('2d');
            charts.efficiency = new Chart(ctxEff, {
                type: 'doughnut',
                data: {
                    labels: ['Correct', 'Incorrect', 'Unattempted'],
                    datasets: [{
                        data: [110, 25, 45],
                        backgroundColor: ['#10B981', '#EF4444', '#cbd5e1'],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    cutout: '75%'
                }
            });

            // 4. Sparkline (Accuracy)
            const ctxSparkAcc = document.getElementById('sparkAccuracy').getContext('2d');
            charts.sparkAcc = new Chart(ctxSparkAcc, {
                type: 'line',
                data: {
                    labels: [1,2,3,4,5,6,7,8,9,10],
                    datasets: [{
                        data: [70, 72, 71, 74, 73, 75, 76, 74, 77, 78],
                        borderColor: '#10B981',
                        borderWidth: 2,
                        pointRadius: 0,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false }, tooltip: { enabled: false } },
                    scales: { x: { display: false }, y: { display: false } }
                }
            });

             // 5. Sparkline (Negative)
             const ctxSparkNeg = document.getElementById('sparkNegative').getContext('2d');
            charts.sparkNeg = new Chart(ctxSparkNeg, {
                type: 'bar',
                data: {
                    labels: [1,2,3,4,5,6,7,8,9,10],
                    datasets: [{
                        data: [-12, -15, -10, -18, -14, -12, -18, -16, -14, -18],
                        backgroundColor: '#EF4444',
                        borderRadius: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false }, tooltip: { enabled: false } },
                    scales: { x: { display: false }, y: { display: false } }
                }
            });
        }
    </script>
    
    <!-- Chosen Palette: Slate (Light Mode) with Emerald/Red/Amber semantic data colors -->
    <!-- Application Structure Plan:
         1. Top Pulse Strip: Immediate KPI health check (financial ticker style).
         2. Bento Grid Layout: Maximizes density. Row 1 compares overall trends vs subject balance. Row 2 offers deep dives (table) and consistency checks (heatmap).
         3. Interactions: Time-range filter updates all charts globally. 'Revise' button on weak areas simulates action.
    -->
    <!-- Visualization & Content Choices:
         1. Pulse Sparklines -> Goal: Inform -> Viz: Mini Line/Bar Charts (Canvas) -> Quick trend visualization without clutter.
         2. Trend Line Chart -> Goal: Change -> Viz: Line Chart (Chart.js) -> Compare score growth vs accuracy stability.
         3. Radar Chart -> Goal: Compare -> Viz: Radar (Chart.js) -> Instantly spots imbalances in subject mastery vs toppers.
         4. Weak Areas Matrix -> Goal: Organize -> Viz: HTML Table + Action Button -> Prioritized list for immediate remediation.
         5. Heatmap -> Goal: Inform/Consistency -> Viz: HTML Grid -> Visualizes study streaks and gaps.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. All charts via Chart.js Canvas or HTML/CSS. -->
</body>
</html>
